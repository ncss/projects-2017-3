<!doctype html>
<html>
  <head>
    {% include _shared_head.html %}
    <link rel="stylesheet" type='text/css' href='static/css/askQuestion.css'>
    <script src='/static/js/jquery.js'></script>
    <script src='/static/js/validate.js'></script>
  </head>

  <body>
    {% include _nav_bar.html %}
    <main>
      <div class="wholething">
        <form action="/ask" method="post" enctype = "multipart/form-data">
          <h1>Ask a Question</h1>
          <fieldset>
            <p class="question">
              <label for="question">Question:</label>
              <input type="text" name="question" id="question">
            </p>
            <p class="question">
              <label for="fileupload">Upload an image of the product you want to find!</label>
              <input type="file" name="fileupload" id="fileupload">
              <p class='error' id='unsupported-file-error'>
                {% if file_error_msg %}
                  {{ file_error_msg }}
                {% end if %}
              </p>
            </p>
            <p class="centered_or">Or</p>
            <p class="question">
              <label for="url">Submit a URL to an image!</label>
              <input type="text" name="url" id="url" />
            </p>
            <p class="question">
              <label for="description">Description</label>
              <input type="text" name="description" id="description" >
            </p>
            <p class="question">
              <input type="submit" value="Submit">
            </p>
          </fieldset>
        </form>
      </div>
    </main>
    <script>
    const ignore = event => {
      event.preventDefault();
      event.stopPropagation();
    };
    'drag dragstart dragend dragover dragenter dragleave drop'.split(/\s+/).forEach(name => {
      document.addEventListener(name, ignore);
    });
document.addEventListener('drop', event =>{
  droppedFiles = event.dataTransfer.files;
  console.info(droppedFiles);
  const fileupload = document.getElementById('fileupload');
  fileupload.files = droppedFiles;
})
    </script>
  </body>
</html>
